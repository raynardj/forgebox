---

title: Title

keywords: fastai
sidebar: home_sidebar

summary: "summary"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/15_loopstack.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="15-LoopStack">15 LoopStack<a class="anchor-link" href="#15-LoopStack">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets.california_housing</span> <span class="kn">import</span> <span class="n">fetch_california_housing</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">fetch_california_housing</span><span class="p">(</span><span class="n">return_X_y</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((20640, 8), (20640,))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Normalized Data</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">norm</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">s</span><span class="p">):</span> <span class="k">return</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">m</span><span class="p">)</span><span class="o">/</span><span class="n">s</span>
<span class="k">def</span> <span class="nf">denorm</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">s</span><span class="p">):</span> <span class="k">return</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="n">m</span>

<span class="n">x_normed</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="mi">0</span><span class="p">))(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y_normed</span> <span class="o">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span><span class="n">y</span><span class="o">.</span><span class="n">std</span><span class="p">())(</span><span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_normed</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">),</span><span class="n">x_normed</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>\
<span class="n">y_normed</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">),</span><span class="n">y_normed</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([ 0.,  0.,  0., -0., -0.,  0., -0., -0.], dtype=float16),
 array([1., 1., 1., 1., 1., 1., 1., 1.]),
 0.0,
 1.0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Preview x input</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">x_normed</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span><span class="mi">10</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.image.AxesImage at 0x11b022b90&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_event" class="doc_header"><code>create_event</code><a href="https://github.com/raynardj/forgebox/tree/master/forgebox/loopstack.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_event</code>(<strong><code>event_name</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="events" class="doc_header"><code>events</code><a href="https://github.com/raynardj/forgebox/tree/master/forgebox/loopstack.py#L16" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>events</code>(<strong>*<code>enames</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LoopStack" class="doc_header"><code>class</code> <code>LoopStack</code><a href="https://github.com/raynardj/forgebox/tree/master/forgebox/loopstack.py#L20" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LoopStack</code>(<strong><code>iterable</code></strong>=<em><code>[]</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>) :: <a href="/forgebox/loop#Loop"><code>Loop</code></a></p>
</blockquote>
<p>Basic loop class</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TRAIN_EVENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DATA_PROCESS&quot;</span><span class="p">,</span><span class="s2">&quot;FORWARD&quot;</span><span class="p">,</span><span class="s2">&quot;LOSS_CALC&quot;</span><span class="p">,</span>
                <span class="s2">&quot;BACKWARD&quot;</span><span class="p">,</span><span class="s2">&quot;OPT_STEP&quot;</span><span class="p">,</span><span class="s2">&quot;METRICS&quot;</span><span class="p">]</span>
<span class="n">EVAL_EVENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DATA_PROCESS&quot;</span><span class="p">,</span><span class="s2">&quot;EVAL_WRAP&quot;</span><span class="p">,</span><span class="s2">&quot;FORWARD&quot;</span><span class="p">,</span><span class="s2">&quot;LOSS_CALC&quot;</span><span class="p">,</span><span class="s2">&quot;METRICS&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TrainLoop" class="doc_header"><code>class</code> <code>TrainLoop</code><a href="https://github.com/raynardj/forgebox/tree/master/forgebox/loopstack.py#L57" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TrainLoop</code>(<strong><code>data_iter</code></strong>) :: <a href="/forgebox/loopstack#LoopStack"><code>LoopStack</code></a></p>
</blockquote>
<p>Basic loop class</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="EvalLoop" class="doc_header"><code>class</code> <code>EvalLoop</code><a href="https://github.com/raynardj/forgebox/tree/master/forgebox/loopstack.py#L72" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>EvalLoop</code>(<strong><code>data_iter</code></strong>) :: <a href="/forgebox/loopstack#LoopStack"><code>LoopStack</code></a></p>
</blockquote>
<p>Basic loop class</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loop</span> <span class="o">=</span> <span class="n">TrainLoop</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
<span class="n">loop</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>LoopStack&gt;:TrainLoop
	layer🍰Loop
	layer🍰ProgressBar
	layer🍰Tolerate
	event🌏DATA_PROCESS
	event🌏FORWARD
	event🌏LOSS_CALC
	event🌏BACKWARD
	event🌏OPT_STEP
	event🌏METRICS</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loop</span><span class="o">.</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;baseline&quot;</span><span class="p">]</span><span class="o">=</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;ipython-input-12-7a42f7e18709&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">1</span>
<span class="ansi-red-fg">    loop.model[&#34;baseline&#34;]=</span>
                           ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> invalid syntax
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loop</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-13-8efba2eecf81&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>loop<span class="ansi-blue-fg">.</span>summary<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/github/forgebox/forgebox/loop.py</span> in <span class="ansi-cyan-fg">summary</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    148</span>                 <span class="ansi-green-fg">if</span> id<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">in</span> funcs<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    149</span>                     rt<span class="ansi-blue-fg">+=</span><span class="ansi-blue-fg">&#34;\t&#34;</span>
<span class="ansi-green-fg">--&gt; 150</span><span class="ansi-red-fg">                     </span>rt<span class="ansi-blue-fg">+=</span><span class="ansi-blue-fg">&#34;\n\t&#34;</span><span class="ansi-blue-fg">.</span>join<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">f&#34;[{k}]\t{v}&#34;</span> <span class="ansi-green-fg">for</span> k<span class="ansi-blue-fg">,</span>v <span class="ansi-green-fg">in</span> self<span class="ansi-blue-fg">.</span>func_detail<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>items<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    151</span>                     rt<span class="ansi-blue-fg">+=</span><span class="ansi-blue-fg">&#34;\n\t&#34;</span><span class="ansi-blue-fg">+</span><span class="ansi-blue-fg">&#34;.&#34;</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">35</span><span class="ansi-blue-fg">+</span><span class="ansi-blue-fg">&#34;\n&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    152</span>                     funcs<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>id<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/github/forgebox/forgebox/loop.py</span> in <span class="ansi-cyan-fg">func_detail</span><span class="ansi-blue-fg">(self, f)</span>
<span class="ansi-green-intense-fg ansi-bold">    134</span>         detail = dict({&#34;🐍func_name&#34;:f.__name__,
<span class="ansi-green-intense-fg ansi-bold">    135</span>                        <span class="ansi-blue-fg">&#34;⛰doc&#34;</span><span class="ansi-blue-fg">:</span>f<span class="ansi-blue-fg">.</span>__doc__<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">--&gt; 136</span><span class="ansi-red-fg">                        </span><span class="ansi-blue-fg">&#34;😝var&#34;</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">&#34;,&#34;</span><span class="ansi-blue-fg">.</span>join<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">.</span>__code__<span class="ansi-blue-fg">.</span>co_varnames<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    137</span>                        <span class="ansi-blue-fg">&#34;😜names&#34;</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">&#34;,&#34;</span><span class="ansi-blue-fg">.</span>join<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">.</span>__code__<span class="ansi-blue-fg">.</span>co_names<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    138</span>                       })

<span class="ansi-red-fg">AttributeError</span>: &#39;NoneType&#39; object has no attribute &#39;co_varnames&#39;</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@loop</span><span class="o">.</span><span class="n">on_DATA_PROCESS</span>
<span class="k">def</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">double</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">element</span><span class="o">*</span><span class="mi">2</span>
    
<span class="nd">@loop</span><span class="o">.</span><span class="n">on_FORWARD</span>
<span class="k">def</span> <span class="nf">update_pg</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">pgbar_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;double: </span><span class="si">{loop.double}</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="nd">@loop</span><span class="o">.</span><span class="n">on_FORWARD</span>
<span class="k">def</span> <span class="nf">another_thing_on_forward</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">pgbar_data</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loop</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
WARNING:51 errors
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loop</span><span class="o">.</span><span class="n">error_list</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;stage&#39;: &#39;start_cb&#39;,
  &#39;i&#39;: -1,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;model&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 0,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 1,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 2,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 3,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 4,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 5,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 6,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 7,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 8,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 9,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 10,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 11,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 12,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 13,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 14,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 15,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 16,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 17,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 18,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 19,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 20,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 21,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 22,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 23,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 24,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 25,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 26,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 27,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 28,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 29,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 30,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 31,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 32,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 33,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 34,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 35,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 36,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 37,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 38,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 39,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 40,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 41,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 42,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 43,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 44,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 45,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 46,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 47,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 48,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)},
 {&#39;stage&#39;: &#39;iter_cb&#39;,
  &#39;i&#39;: 49,
  &#39;epoch&#39;: 0,
  &#39;error&#39;: AttributeError(&#34;&#39;StorageCore&#39; object has no attribute &#39;opt&#39;&#34;)}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}
</div>
 

